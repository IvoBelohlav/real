"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/[...nextauth]/route";
exports.ids = ["app/api/auth/[...nextauth]/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.js&appDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.js&appDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_Fullstack_applicationOfficial_Fullstack_application_6_3_AdminDvojkaVit_src_app_api_auth_nextauth_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/auth/[...nextauth]/route.js */ \"(rsc)/./src/app/api/auth/[...nextauth]/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/[...nextauth]/route\"\n    },\n    resolvedPagePath: \"E:\\\\Fullstack-applicationOfficial\\\\Fullstack-application 6.3\\\\AdminDvojkaVit\\\\src\\\\app\\\\api\\\\auth\\\\[...nextauth]\\\\route.js\",\n    nextConfigOutput,\n    userland: E_Fullstack_applicationOfficial_Fullstack_application_6_3_AdminDvojkaVit_src_app_api_auth_nextauth_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/[...nextauth]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlLmpzJmFwcERpcj1FJTNBJTVDRnVsbHN0YWNrLWFwcGxpY2F0aW9uT2ZmaWNpYWwlNUNGdWxsc3RhY2stYXBwbGljYXRpb24lMjA2LjMlNUNBZG1pbkR2b2prYVZpdCU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RSUzQSU1Q0Z1bGxzdGFjay1hcHBsaWNhdGlvbk9mZmljaWFsJTVDRnVsbHN0YWNrLWFwcGxpY2F0aW9uJTIwNi4zJTVDQWRtaW5Edm9qa2FWaXQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzBFO0FBQ3ZKO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZHZvamthdml0LWFkbWluLz83ZGU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkU6XFxcXEZ1bGxzdGFjay1hcHBsaWNhdGlvbk9mZmljaWFsXFxcXEZ1bGxzdGFjay1hcHBsaWNhdGlvbiA2LjNcXFxcQWRtaW5Edm9qa2FWaXRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYXV0aFxcXFxbLi4ubmV4dGF1dGhdXFxcXHJvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkU6XFxcXEZ1bGxzdGFjay1hcHBsaWNhdGlvbk9mZmljaWFsXFxcXEZ1bGxzdGFjay1hcHBsaWNhdGlvbiA2LjNcXFxcQWRtaW5Edm9qa2FWaXRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYXV0aFxcXFxbLi4ubmV4dGF1dGhdXFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.js&appDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/[...nextauth]/route.js":
/*!*************************************************!*\
  !*** ./src/app/api/auth/[...nextauth]/route.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler),\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../lib/api */ \"(rsc)/./src/lib/api.js\");\n\n\n // Keep this for login\n// Define the backend API URL (ensure this is set in your environment)\nconst BACKEND_API_URL = \"http://localhost:8000\" || 0;\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            name: \"Credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                try {\n                    const result = await _lib_api__WEBPACK_IMPORTED_MODULE_2__.authAPI.login(credentials.email, credentials.password);\n                    console.log(\"[NextAuth Authorize] Login API Result:\", result);\n                    if (result.success && result.data) {\n                        const userId = result.data.user_id || result.data.id; // Get the ID\n                        console.log(`[NextAuth Authorize] User ID from backend: ${userId}`);\n                        console.log(`[NextAuth Authorize] Access Token from backend: ${result.data.access_token ? \"Present\" : \"Missing\"}`);\n                        return {\n                            id: userId,\n                            email: credentials.email,\n                            name: result.data.username || result.data.email,\n                            token: result.data.access_token,\n                            refreshToken: result.data.refresh_token\n                        };\n                    }\n                    console.log(\"[NextAuth Authorize] Login failed or no data returned.\");\n                    return null;\n                } catch (error) {\n                    console.error(\"[NextAuth Authorize] Auth error:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    callbacks: {\n        async jwt ({ token, user, account }) {\n            // Initial sign in: User object is available\n            if (account && user) {\n                console.log(\"[NextAuth JWT Callback - Initial Sign In] User object:\", user);\n                token.id = user.id; // Set initial ID from authorize result\n                token.email = user.email;\n                token.accessToken = user.token;\n                token.refreshToken = user.refreshToken;\n                console.log(`[NextAuth JWT Callback - Initial Sign In] Token after initial assignment:`, token);\n            }\n            // Fetch/refresh profile data if access token exists\n            if (token.accessToken) {\n                try {\n                    console.log(`[NextAuth JWT Callback] Attempting to fetch /api/users/me. Current token ID: ${token.id}`);\n                    const profileResponse = await fetch(`${BACKEND_API_URL}/api/users/me`, {\n                        headers: {\n                            \"Authorization\": `Bearer ${token.accessToken}`\n                        }\n                    });\n                    if (profileResponse.ok) {\n                        const profileData = await profileResponse.json();\n                        console.log(`[NextAuth JWT Callback] Profile data received:`, profileData);\n                        // --- Log before and after ID update ---\n                        console.log(`[NextAuth JWT Callback] Token ID *before* profile update: ${token.id}`);\n                        console.log(`[NextAuth JWT Callback] Profile data ID received: ${profileData.id}`);\n                        if (profileData.id) {\n                            token.id = profileData.id; // Update token.id from profile\n                            console.log(`[NextAuth JWT Callback] Token ID *after* profile update: ${token.id}`);\n                        } else {\n                            console.warn(`[NextAuth JWT Callback] Profile data missing 'id' field. Token ID remains: ${token.id}`);\n                        }\n                        // --- End ID Update Logging ---\n                        // Merge other relevant profile data into the token\n                        token.subscription_status = profileData.subscription_status;\n                        token.subscription_tier = profileData.subscription_tier;\n                        token.api_key = profileData.api_key;\n                        token.is_email_verified = profileData.is_email_verified;\n                        token.company_name = profileData.company_name;\n                        token.username = profileData.username;\n                    // Add other fields as needed\n                    } else {\n                        console.error(`[NextAuth JWT Callback] Failed to fetch user profile: ${profileResponse.status} ${profileResponse.statusText}`);\n                    // Handle potential token expiration/refresh here\n                    // TODO: Implement token refresh logic using token.refreshToken if accessToken is expired\n                    }\n                } catch (error) {\n                    console.error(\"[NextAuth JWT Callback] Error fetching user profile:\", error);\n                }\n            } else {\n                console.warn(\"[NextAuth JWT Callback] No access token found in token object. Cannot fetch profile.\");\n            }\n            console.log(\"[NextAuth JWT Callback] Returning final token:\", token);\n            return token;\n        },\n        async session ({ session, token }) {\n            console.log(\"[NextAuth Session Callback] Received token:\", token);\n            // Populate session.user from the potentially updated token\n            session.user.id = token.id;\n            session.user.email = token.email;\n            // SECURITY NOTE: Exposing the raw access token to the client-side session should be done with caution.\n            // Consider if the frontend truly needs it directly. Prefer using Next.js API routes as a proxy\n            // for backend calls where possible.\n            session.user.token = token.accessToken;\n            session.user.subscription_status = token.subscription_status;\n            session.user.subscription_tier = token.subscription_tier;\n            session.user.api_key = token.api_key;\n            session.user.is_email_verified = token.is_email_verified;\n            session.user.company_name = token.company_name;\n            session.user.username = token.username;\n            console.log(\"[NextAuth Session Callback] Populated final session:\", session);\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/auth/login\",\n        signOut: \"/auth/logout\"\n    },\n    secret: process.env.NEXTAUTH_SECRET || \"your_fallback_secret_key_but_use_env_variable\"\n};\nconst handler = next_auth__WEBPACK_IMPORTED_MODULE_0___default()(authOptions);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFpQztBQUNpQztBQUNwQixDQUFDLHNCQUFzQjtBQUVyRSxzRUFBc0U7QUFDdEUsTUFBTUcsa0JBQWtCQyx1QkFBK0IsSUFBSTtBQUVwRCxNQUFNRyxjQUFjO0lBQ3pCQyxXQUFXO1FBQ1RQLDJFQUFtQkEsQ0FBQztZQUNsQlEsTUFBTTtZQUNOQyxhQUFhO2dCQUNYQyxPQUFPO29CQUFFQyxPQUFPO29CQUFTQyxNQUFNO2dCQUFRO2dCQUN2Q0MsVUFBVTtvQkFBRUYsT0FBTztvQkFBWUMsTUFBTTtnQkFBVztZQUNsRDtZQUNBLE1BQU1FLFdBQVVMLFdBQVc7Z0JBQ3pCLElBQUk7b0JBQ0YsTUFBTU0sU0FBUyxNQUFNZCw2Q0FBT0EsQ0FBQ2UsS0FBSyxDQUFDUCxZQUFZQyxLQUFLLEVBQUVELFlBQVlJLFFBQVE7b0JBQzFFSSxRQUFRQyxHQUFHLENBQUMsMENBQTBDSDtvQkFFdEQsSUFBSUEsT0FBT0ksT0FBTyxJQUFJSixPQUFPSyxJQUFJLEVBQUU7d0JBQ2pDLE1BQU1DLFNBQVNOLE9BQU9LLElBQUksQ0FBQ0UsT0FBTyxJQUFJUCxPQUFPSyxJQUFJLENBQUNHLEVBQUUsRUFBRSxhQUFhO3dCQUNuRU4sUUFBUUMsR0FBRyxDQUFDLENBQUMsMkNBQTJDLEVBQUVHLE9BQU8sQ0FBQzt3QkFDbEVKLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGdEQUFnRCxFQUFFSCxPQUFPSyxJQUFJLENBQUNJLFlBQVksR0FBRyxZQUFZLFVBQVUsQ0FBQzt3QkFDakgsT0FBTzs0QkFDTEQsSUFBSUY7NEJBQ0pYLE9BQU9ELFlBQVlDLEtBQUs7NEJBQ3hCRixNQUFNTyxPQUFPSyxJQUFJLENBQUNLLFFBQVEsSUFBSVYsT0FBT0ssSUFBSSxDQUFDVixLQUFLOzRCQUMvQ2dCLE9BQU9YLE9BQU9LLElBQUksQ0FBQ0ksWUFBWTs0QkFDL0JHLGNBQWNaLE9BQU9L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LElBQUksQ0FBQztZQUNmO1lBRUEzQixRQUFRQyxHQUFHLENBQUMsa0RBQWtEUTtZQUM5RCxPQUFPQTtRQUNUO1FBQ0EsTUFBTUksU0FBUSxFQUFFQSxPQUFPLEVBQUVKLEtBQUssRUFBRTtZQUM5QlQsUUFBUUMsR0FBRyxDQUFDLCtDQUErQ1E7WUFDM0QsMkRBQTJEO1lBQzNESSxRQUFRSyxJQUFJLENBQUNaLEVBQUUsR0FBR0csTUFBTUgsRUFBRTtZQUMxQk8sUUFBUUssSUFBSSxDQUFDekIsS0FBSyxHQUFHZ0IsTUFBTWhCLEtBQUs7WUFDaEMsdUdBQXVHO1lBQ3ZHLCtGQUErRjtZQUMvRixvQ0FBb0M7WUFDcENvQixRQUFRSyxJQUFJLENBQUNULEtBQUssR0FBR0EsTUFBTVcsV0FBVztZQUN0Q1AsUUFBUUssSUFBSSxDQUFDVSxtQkFBbUIsR0FBR25CLE1BQU1tQixtQkFBbUI7WUFDNURmLFFBQVFLLElBQUksQ0FBQ1csaUJBQWlCLEdBQUdwQixNQUFNb0IsaUJBQWlCO1lBQ3hEaEIsUUFBUUssSUFBSSxDQUFDWSxPQUFPLEdBQUdyQixNQUFNcUIsT0FBTztZQUNwQ2pCLFFBQVFLLElBQUksQ0FBQ2EsaUJBQWlCLEdBQUd0QixNQUFNc0IsaUJBQWlCO1lBQ3hEbEIsUUFBUUssSUFBSSxDQUFDYyxZQUFZLEdBQUd2QixNQUFNdUIsWUFBWTtZQUM5Q25CLFFBQVFLLElBQUksQ0FBQ1YsUUFBUSxHQUFHQyxNQUFNRCxRQUFRO1lBRXRDUixRQUFRQyxHQUFHLENBQUMsd0RBQXdEWTtZQUNwRSxPQUFPQTtRQUNUO0lBQ0Y7SUFDQXNCLE9BQU87UUFDTEMsUUFBUTtRQUNSQyxTQUFTO0lBQ1g7SUFDQUMsUUFBUXBELFFBQVFDLEdBQUcsQ0FBQ29ELGVBQWUsSUFBSTtBQUN6QyxFQUFFO0FBRUYsTUFBTUMsVUFBVTFELGdEQUFRQSxDQUFDTztBQUNrQiIsInNvdXJjZXMiOlsid2VicGFjazovL2R2b2prYXZpdC1hZG1pbi8uL3NyYy9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS5qcz8yMzJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOZXh0QXV0aCBmcm9tICduZXh0LWF1dGgnO1xyXG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJztcclxuaW1wb3J0IHsgYXV0aEFQSSB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9hcGknOyAvLyBLZWVwIHRoaXMgZm9yIGxvZ2luXHJcblxyXG4vLyBEZWZpbmUgdGhlIGJhY2tlbmQgQVBJIFVSTCAoZW5zdXJlIHRoaXMgaXMgc2V0IGluIHlvdXIgZW52aXJvbm1lbnQpXHJcbmNvbnN0IEJBQ0tFTkRfQVBJX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCc7XHJcblxyXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnMgPSB7XHJcbiAgcHJvdmlkZXJzOiBbXHJcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcclxuICAgICAgbmFtZTogJ0NyZWRlbnRpYWxzJyxcclxuICAgICAgY3JlZGVudGlhbHM6IHtcclxuICAgICAgICBlbWFpbDogeyBsYWJlbDogXCJFbWFpbFwiLCB0eXBlOiBcImVtYWlsXCIgfSxcclxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogXCJQYXNzd29yZFwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfVxyXG4gICAgICB9LFxyXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXV0aEFQSS5sb2dpbihjcmVkZW50aWFscy5lbWFpbCwgY3JlZGVudGlhbHMucGFzc3dvcmQpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1tOZXh0QXV0aCBBdXRob3JpemVdIExvZ2luIEFQSSBSZXN1bHQ6JywgcmVzdWx0KTtcclxuXHJcbiAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LmRhdGEpIHtcclxuICAgICAgICAgICAgY29uc3QgdXNlcklkID0gcmVzdWx0LmRhdGEudXNlcl9pZCB8fCByZXN1bHQuZGF0YS5pZDsgLy8gR2V0IHRoZSBJRFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW05leHRBdXRoIEF1dGhvcml6ZV0gVXNlciBJRCBmcm9tIGJhY2tlbmQ6ICR7dXNlcklkfWApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW05leHRBdXRoIEF1dGhvcml6ZV0gQWNjZXNzIFRva2VuIGZyb20gYmFja2VuZDogJHtyZXN1bHQuZGF0YS5hY2Nlc3NfdG9rZW4gPyAnUHJlc2VudCcgOiAnTWlzc2luZyd9YCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgaWQ6IHVzZXJJZCwgLy8gVXNlIHRoZSBzdHJpbmcgJ2lkJyBmaWVsZFxyXG4gICAgICAgICAgICAgIGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCxcclxuICAgICAgICAgICAgICBuYW1lOiByZXN1bHQuZGF0YS51c2VybmFtZSB8fCByZXN1bHQuZGF0YS5lbWFpbCxcclxuICAgICAgICAgICAgICB0b2tlbjogcmVzdWx0LmRhdGEuYWNjZXNzX3Rva2VuLFxyXG4gICAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogcmVzdWx0LmRhdGEucmVmcmVzaF90b2tlblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1tOZXh0QXV0aCBBdXRob3JpemVdIExvZ2luIGZhaWxlZCBvciBubyBkYXRhIHJldHVybmVkLicpO1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tOZXh0QXV0aCBBdXRob3JpemVdIEF1dGggZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIF0sXHJcbiAgc2Vzc2lvbjoge1xyXG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxyXG4gICAgbWF4QWdlOiAzMCAqIDI0ICogNjAgKiA2MCwgLy8gMzAgZGF5c1xyXG4gIH0sXHJcbiAgY2FsbGJhY2tzOiB7XHJcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciwgYWNjb3VudCB9KSB7XHJcbiAgICAgIC8vIEluaXRpYWwgc2lnbiBpbjogVXNlciBvYmplY3QgaXMgYXZhaWxhYmxlXHJcbiAgICAgIGlmIChhY2NvdW50ICYmIHVzZXIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnW05leHRBdXRoIEpXVCBDYWxsYmFjayAtIEluaXRpYWwgU2lnbiBJbl0gVXNlciBvYmplY3Q6JywgdXNlcik7XHJcbiAgICAgICAgdG9rZW4uaWQgPSB1c2VyLmlkOyAvLyBTZXQgaW5pdGlhbCBJRCBmcm9tIGF1dGhvcml6ZSByZXN1bHRcclxuICAgICAgICB0b2tlbi5lbWFpbCA9IHVzZXIuZW1haWw7XHJcbiAgICAgICAgdG9rZW4uYWNjZXNzVG9rZW4gPSB1c2VyLnRva2VuO1xyXG4gICAgICAgIHRva2VuLnJlZnJlc2hUb2tlbiA9IHVzZXIucmVmcmVzaFRva2VuO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbTmV4dEF1dGggSldUIENhbGxiYWNrIC0gSW5pdGlhbCBTaWduIEluXSBUb2tlbiBhZnRlciBpbml0aWFsIGFzc2lnbm1lbnQ6YCwgdG9rZW4pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBGZXRjaC9yZWZyZXNoIHByb2ZpbGUgZGF0YSBpZiBhY2Nlc3MgdG9rZW4gZXhpc3RzXHJcbiAgICAgIGlmICh0b2tlbi5hY2Nlc3NUb2tlbikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW05leHRBdXRoIEpXVCBDYWxsYmFja10gQXR0ZW1wdGluZyB0byBmZXRjaCAvYXBpL3VzZXJzL21lLiBDdXJyZW50IHRva2VuIElEOiAke3Rva2VuLmlkfWApO1xyXG4gICAgICAgICAgY29uc3QgcHJvZmlsZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFDS0VORF9BUElfVVJMfS9hcGkvdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbi5hY2Nlc3NUb2tlbn1gLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKHByb2ZpbGVSZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBjb25zdCBwcm9maWxlRGF0YSA9IGF3YWl0IHByb2ZpbGVSZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbTmV4dEF1dGggSldUIENhbGxiYWNrXSBQcm9maWxlIGRhdGEgcmVjZWl2ZWQ6YCwgcHJvZmlsZURhdGEpO1xyXG5cclxuICAgICAgICAgICAgLy8gLS0tIExvZyBiZWZvcmUgYW5kIGFmdGVyIElEIHVwZGF0ZSAtLS1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFtOZXh0QXV0aCBKV1QgQ2FsbGJhY2tdIFRva2VuIElEICpiZWZvcmUqIHByb2ZpbGUgdXBkYXRlOiAke3Rva2VuLmlkfWApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW05leHRBdXRoIEpXVCBDYWxsYmFja10gUHJvZmlsZSBkYXRhIElEIHJlY2VpdmVkOiAke3Byb2ZpbGVEYXRhLmlkfWApO1xyXG4gICAgICAgICAgICBpZiAocHJvZmlsZURhdGEuaWQpIHtcclxuICAgICAgICAgICAgICB0b2tlbi5pZCA9IHByb2ZpbGVEYXRhLmlkOyAvLyBVcGRhdGUgdG9rZW4uaWQgZnJvbSBwcm9maWxlXHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtOZXh0QXV0aCBKV1QgQ2FsbGJhY2tdIFRva2VuIElEICphZnRlciogcHJvZmlsZSB1cGRhdGU6ICR7dG9rZW4uaWR9YCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbTmV4dEF1dGggSldUIENhbGxiYWNrXSBQcm9maWxlIGRhdGEgbWlzc2luZyAnaWQnIGZpZWxkLiBUb2tlbiBJRCByZW1haW5zOiAke3Rva2VuLmlkfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIC0tLSBFbmQgSUQgVXBkYXRlIExvZ2dpbmcgLS0tXHJcblxyXG4gICAgICAgICAgICAvLyBNZXJnZSBvdGhlciByZWxldmFudCBwcm9maWxlIGRhdGEgaW50byB0aGUgdG9rZW5cclxuICAgICAgICAgICAgdG9rZW4uc3Vic2NyaXB0aW9uX3N0YXR1cyA9IHByb2ZpbGVEYXRhLnN1YnNjcmlwdGlvbl9zdGF0dXM7XHJcbiAgICAgICAgICAgIHRva2VuLnN1YnNjcmlwdGlvbl90aWVyID0gcHJvZmlsZURhdGEuc3Vic2NyaXB0aW9uX3RpZXI7XHJcbiAgICAgICAgICAgIHRva2VuLmFwaV9rZXkgPSBwcm9maWxlRGF0YS5hcGlfa2V5O1xyXG4gICAgICAgICAgICB0b2tlbi5pc19lbWFpbF92ZXJpZmllZCA9IHByb2ZpbGVEYXRhLmlzX2VtYWlsX3ZlcmlmaWVkO1xyXG4gICAgICAgICAgICB0b2tlbi5jb21wYW55X25hbWUgPSBwcm9maWxlRGF0YS5jb21wYW55X25hbWU7XHJcbiAgICAgICAgICAgIHRva2VuLnVzZXJuYW1lID0gcHJvZmlsZURhdGEudXNlcm5hbWU7XHJcbiAgICAgICAgICAgIC8vIEFkZCBvdGhlciBmaWVsZHMgYXMgbmVlZGVkXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbTmV4dEF1dGggSldUIENhbGxiYWNrXSBGYWlsZWQgdG8gZmV0Y2ggdXNlciBwcm9maWxlOiAke3Byb2ZpbGVSZXNwb25zZS5zdGF0dXN9ICR7cHJvZmlsZVJlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSBwb3RlbnRpYWwgdG9rZW4gZXhwaXJhdGlvbi9yZWZyZXNoIGhlcmVcclxuICAgICAgICAgICAgLy8gVE9ETzogSW1wbGVtZW50IHRva2VuIHJlZnJlc2ggbG9naWMgdXNpbmcgdG9rZW4ucmVmcmVzaFRva2VuIGlmIGFjY2Vzc1Rva2VuIGlzIGV4cGlyZWRcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignW05leHRBdXRoIEpXVCBDYWxsYmFja10gRXJyb3IgZmV0Y2hpbmcgdXNlciBwcm9maWxlOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdbTmV4dEF1dGggSldUIENhbGxiYWNrXSBObyBhY2Nlc3MgdG9rZW4gZm91bmQgaW4gdG9rZW4gb2JqZWN0LiBDYW5ub3QgZmV0Y2ggcHJvZmlsZS4nKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1tOZXh0QXV0aCBKV1QgQ2FsbGJhY2tdIFJldHVybmluZyBmaW5hbCB0b2tlbjonLCB0b2tlbik7XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnW05leHRBdXRoIFNlc3Npb24gQ2FsbGJhY2tdIFJlY2VpdmVkIHRva2VuOicsIHRva2VuKTtcclxuICAgICAgLy8gUG9wdWxhdGUgc2Vzc2lvbi51c2VyIGZyb20gdGhlIHBvdGVudGlhbGx5IHVwZGF0ZWQgdG9rZW5cclxuICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWQ7XHJcbiAgICAgIHNlc3Npb24udXNlci5lbWFpbCA9IHRva2VuLmVtYWlsO1xyXG4gICAgICAvLyBTRUNVUklUWSBOT1RFOiBFeHBvc2luZyB0aGUgcmF3IGFjY2VzcyB0b2tlbiB0byB0aGUgY2xpZW50LXNpZGUgc2Vzc2lvbiBzaG91bGQgYmUgZG9uZSB3aXRoIGNhdXRpb24uXHJcbiAgICAgIC8vIENvbnNpZGVyIGlmIHRoZSBmcm9udGVuZCB0cnVseSBuZWVkcyBpdCBkaXJlY3RseS4gUHJlZmVyIHVzaW5nIE5leHQuanMgQVBJIHJvdXRlcyBhcyBhIHByb3h5XHJcbiAgICAgIC8vIGZvciBiYWNrZW5kIGNhbGxzIHdoZXJlIHBvc3NpYmxlLlxyXG4gICAgICBzZXNzaW9uLnVzZXIudG9rZW4gPSB0b2tlbi5hY2Nlc3NUb2tlbjtcclxuICAgICAgc2Vzc2lvbi51c2VyLnN1YnNjcmlwdGlvbl9zdGF0dXMgPSB0b2tlbi5zdWJzY3JpcHRpb25fc3RhdHVzO1xyXG4gICAgICBzZXNzaW9uLnVzZXIuc3Vic2NyaXB0aW9uX3RpZXIgPSB0b2tlbi5zdWJzY3JpcHRpb25fdGllcjtcclxuICAgICAgc2Vzc2lvbi51c2VyLmFwaV9rZXkgPSB0b2tlbi5hcGlfa2V5O1xyXG4gICAgICBzZXNzaW9uLnVzZXIuaXNfZW1haWxfdmVyaWZpZWQgPSB0b2tlbi5pc19lbWFpbF92ZXJpZmllZDtcclxuICAgICAgc2Vzc2lvbi51c2VyLmNvbXBhbnlfbmFtZSA9IHRva2VuLmNvbXBhbnlfbmFtZTtcclxuICAgICAgc2Vzc2lvbi51c2VyLnVzZXJuYW1lID0gdG9rZW4udXNlcm5hbWU7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhcIltOZXh0QXV0aCBTZXNzaW9uIENhbGxiYWNrXSBQb3B1bGF0ZWQgZmluYWwgc2Vzc2lvbjpcIiwgc2Vzc2lvbik7XHJcbiAgICAgIHJldHVybiBzZXNzaW9uO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgcGFnZXM6IHtcclxuICAgIHNpZ25JbjogJy9hdXRoL2xvZ2luJyxcclxuICAgIHNpZ25PdXQ6ICcvYXV0aC9sb2dvdXQnLFxyXG4gIH0sXHJcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQgfHwgJ3lvdXJfZmFsbGJhY2tfc2VjcmV0X2tleV9idXRfdXNlX2Vudl92YXJpYWJsZSdcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZXIgPSBOZXh0QXV0aChhdXRoT3B0aW9ucyk7XHJcbmV4cG9ydCB7IGhhbmRsZXIgYXMgR0VULCBoYW5kbGVyIGFzIFBPU1QgfTtcclxuIl0sIm5hbWVzIjpbIk5leHRBdXRoIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsImF1dGhBUEkiLCJCQUNLRU5EX0FQSV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsInJlc3VsdCIsImxvZ2luIiwiY29uc29sZSIsImxvZyIsInN1Y2Nlc3MiLCJkYXRhIiwidXNlcklkIiwidXNlcl9pZCIsImlkIiwiYWNjZXNzX3Rva2VuIiwidXNlcm5hbWUiLCJ0b2tlbiIsInJlZnJlc2hUb2tlbiIsInJlZnJlc2hfdG9rZW4iLCJlcnJvciIsInNlc3Npb24iLCJzdHJhdGVneSIsIm1heEFnZSIsImNhbGxiYWNrcyIsImp3dCIsInVzZXIiLCJhY2NvdW50IiwiYWNjZXNzVG9rZW4iLCJwcm9maWxlUmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJvayIsInByb2ZpbGVEYXRhIiwianNvbiIsIndhcm4iLCJzdWJzY3JpcHRpb25fc3RhdHVzIiwic3Vic2NyaXB0aW9uX3RpZXIiLCJhcGlfa2V5IiwiaXNfZW1haWxfdmVyaWZpZWQiLCJjb21wYW55X25hbWUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwicGFnZXMiLCJzaWduSW4iLCJzaWduT3V0Iiwic2VjcmV0IiwiTkVYVEFVVEhfU0VDUkVUIiwiaGFuZGxlciIsIkdFVCIsIlBPU1QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/[...nextauth]/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/api.js":
/*!************************!*\
  !*** ./src/lib/api.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authAPI: () => (/* binding */ authAPI),\n/* harmony export */   billingAPI: () => (/* binding */ billingAPI),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   directApi: () => (/* binding */ directApi),\n/* harmony export */   userAPI: () => (/* binding */ userAPI)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js-cookie */ \"(rsc)/./node_modules/js-cookie/dist/js.cookie.mjs\");\n\n // Restore Cookies import\n// Create an axios instance for direct access to the FastAPI backend\n// This should only be used on the server side or for specific endpoints\nconst directApi = axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n    baseURL: \"http://localhost:8000\" || 0,\n    headers: {\n        \"Content-Type\": \"application/json\"\n    },\n    withCredentials: true\n});\n// Create an axios instance that uses the Next.js API routes (which are proxied to FastAPI)\n// This should be used for client-side requests\nconst api = axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n    baseURL: \"/api\",\n    headers: {\n        \"Content-Type\": \"application/json\"\n    },\n    withCredentials: true\n});\n// Restore request interceptor for 'api' instance\napi.interceptors.request.use((config)=>{\n    // Get token from localStorage or cookies (browser-only)\n    let token = null; // Initialize token as null\n    if (false) {}\n    // Add specific logging for the problematic endpoints\n    if (config.url?.includes(\"/invoices\") || config.url?.includes(\"/subscriptions/authorized-domains\")) {\n        console.log(`[API Interceptor] Requesting ${config.url}. Token found: ${!!token}. Header set: ${config.headers.Authorization ? \"Yes\" : \"No\"}`);\n    }\n    return config;\n}, (error)=>Promise.reject(error));\n// Restore request interceptor for 'directApi' instance\ndirectApi.interceptors.request.use((config)=>{\n    // Get token from localStorage or cookies (browser-only)\n    let token = null; // Initialize token as null\n    if (false) {}\n    // Add specific logging for the problematic endpoints (if directApi is used for them)\n    if (config.url?.includes(\"/invoices\") || config.url?.includes(\"/subscriptions/authorized-domains\")) {\n        console.log(`[DirectAPI Interceptor] Requesting ${config.url}. Token found: ${!!token}. Header set: ${config.headers.Authorization ? \"Yes\" : \"No\"}`);\n    }\n    return config;\n}, (error)=>Promise.reject(error));\n// --- JSDoc Type Definitions ---\n/**\n * @typedef {Object} UserDataInput\n * @property {string} email\n * @property {string} password\n * @property {string} firstName\n * @property {string} [lastName]\n * @property {string} [company]\n */ /**\n * @typedef {Object} BackendUserCreate\n * @property {string} username\n * @property {string} email\n * @property {string} password\n * @property {string|null} company_name\n */ /**\n * @typedef {Object} UserInfo\n * @property {string} id\n * @property {string} email\n * @property {string} username\n * @property {string} [company_name]\n * @property {string} subscription_tier\n * @property {string} subscription_status\n * @property {string} [stripe_customer_id]\n * @property {string} [stripe_subscription_id]\n * @property {boolean} is_email_verified\n * @property {string} created_at\n * @property {string} [updated_at]\n * @property {string} [api_key]\n * @property {string[]} [authorized_domains]\n */ /**\n * @typedef {Object} ApiResponseSuccess\n * @property {true} success\n * @property {any} data\n */ /**\n * @typedef {Object} ApiResponseError\n * @property {false} success\n * @property {string} error\n */ /**\n * @typedef {ApiResponseSuccess | ApiResponseError} ApiResponse\n */ // --- End JSDoc Type Definitions ---\n// Authentication API calls\nconst authAPI = {\n    /**\n   * Register a new user\n   * @param {UserDataInput} userData - User registration data from frontend form\n   * @returns {Promise<ApiResponse>} Backend response message or error\n   */ register: async (userData)=>{\n        try {\n            /** @type {BackendUserCreate} */ const backendUserData = {\n                username: userData.firstName + (userData.lastName ? \" \" + userData.lastName : \"\"),\n                email: userData.email,\n                password: userData.password,\n                company_name: userData.company || null\n            };\n            // Use the direct API for registration - FastAPI expects /api prefix\n            // Response should be { message: string } on success\n            const response = await directApi.post(\"/api/auth/register\", backendUserData, {\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                withCredentials: true\n            });\n            return {\n                success: true,\n                data: response.data\n            };\n        } catch (error) {\n            console.error(\"Registration error:\", error);\n            return {\n                success: false,\n                error: error.response?.data?.detail || \"Registration failed. Please try again.\"\n            };\n        }\n    },\n    /**\n   * Login user\n   * @param {string} email\n   * @param {string} password\n   * @returns {Promise<ApiResponse & { data?: { access_token: string, refresh_token: string, token_type: string } }>} Backend response with tokens or error\n   */ login: async (email, password)=>{\n        try {\n            // Use URLSearchParams for form data (OAuth2 format)\n            const formData = new URLSearchParams();\n            formData.append(\"username\", email); // OAuth2 uses 'username' even for email\n            formData.append(\"password\", password);\n            // Use the direct API for login - FastAPI expects /api prefix\n            const response = await directApi.post(\"/api/auth/login\", formData, {\n                headers: {\n                    \"Content-Type\": \"application/x-www-form-urlencoded\"\n                }\n            });\n            return {\n                success: true,\n                data: response.data // Should contain access_token, refresh_token\n            };\n        } catch (error) {\n            console.error(\"Login error:\", error);\n            return {\n                success: false,\n                error: error.response?.data?.detail || \"Login failed. Please try again.\"\n            };\n        }\n    },\n    /**\n   * Get current authenticated user's details\n   * @returns {Promise<ApiResponse & { data?: UserInfo }>} User info or error\n   */ getCurrentUser: async ()=>{\n        try {\n            const response = await api.get(\"/users/me\"); // Uses proxied API with interceptor\n            return {\n                success: true,\n                data: response.data\n            };\n        } catch (error) {\n            console.error(\"Get current user error:\", error);\n            return {\n                success: false,\n                error: error.response?.data?.detail || \"Failed to get user information.\"\n            };\n        }\n    },\n    /**\n   * Request password reset email\n   * @param {string} email\n   * @returns {Promise<ApiResponse>} Backend response message or error\n   */ requestPasswordReset: async (email)=>{\n        try {\n            const response = await directApi.post(\"/api/auth/forgot-password\", {\n                email\n            });\n            return {\n                success: true,\n                data: response.data\n            };\n        } catch (error) {\n            console.error(\"Password reset request error:\", error);\n            return {\n                success: false,\n                error: error.response?.data?.detail || \"Password reset request failed.\"\n            };\n        }\n    },\n    /**\n   * Reset password using token\n   * @param {string} token - Password reset token from email link\n   * @param {string} newPassword\n   * @returns {Promise<ApiResponse>} Backend response message or error\n   */ resetPassword: async (token, newPassword)=>{\n        try {\n            const response = await directApi.post(`/api/auth/reset-password/${token}`, {\n                password: newPassword\n            });\n            return {\n                success: true,\n                data: response.data\n            };\n        } catch (error) {\n            console.error(\"Password reset error:\", error);\n            return {\n                success: false,\n                error: error.response?.data?.detail || \"Password reset failed.\"\n            };\n        }\n    },\n    /**\n   * Verify email using token\n   * @param {string} token - Verification token from email link\n   * @returns {Promise<ApiResponse>} Backend response message or error\n   */ verifyEmail: async (token)=>{\n        try {\n            const response = await directApi.get(`/api/auth/verify-email/${token}`);\n            return {\n                success: true,\n                data: response.data\n            };\n        } catch (error) {\n            console.error(\"Email verification error:\", error);\n            return {\n                success: false,\n                error: error.response?.data?.detail || \"Email verification failed.\"\n            };\n        }\n    }\n};\n/**\n * @typedef {Object} UserProfileUpdateData\n * @property {string} [username]\n * @property {string} [company_name]\n * // Add other updatable profile fields here if any\n */ /**\n * @typedef {Object} ChangePasswordData\n * @property {string} current_password\n * @property {string} new_password\n */ // User API calls - use proxied API\nconst userAPI = {\n    /**\n   * Update user profile\n   * @param {UserProfileUpdateData} userData - Data to update\n   * @returns {Promise<ApiResponse & { data?: UserInfo }>} Updated user info or error\n   */ updateProfile: async (userData)=>{\n        try {\n            const response = await api.put(\"/users/profile\", userData);\n            return {\n                success: true,\n                data: response.data\n            };\n        } catch (error) {\n            console.error(\"Update profile error:\", error);\n            return {\n                success: false,\n                error: error.response?.data?.detail || \"Profile update failed.\"\n            };\n        }\n    },\n    /**\n   * Change user password\n   * @param {string} currentPassword\n   * @param {string} newPassword\n   * @returns {Promise<ApiResponse>} Success/error message\n   */ changePassword: async (currentPassword, newPassword)=>{\n        try {\n            const response = await api.post(\"/users/change-password\", {\n                current_password: currentPassword,\n                new_password: newPassword\n            });\n            return {\n                success: true,\n                data: response.data\n            };\n        } catch (error) {\n            console.error(\"Change password error:\", error);\n            return {\n                success: false,\n                error: error.response?.data?.detail || \"Password change failed.\"\n            };\n        }\n    }\n};\n/**\n * @typedef {Object} CheckoutSessionResponseData\n * @property {string} checkout_url\n * @property {string} session_id\n */ /**\n * @typedef {Object} CustomerPortalResponseData\n * @property {string} portal_url\n */ /**\n * @typedef {Object} SubscriptionStatusData\n * @property {string} status - e.g., \"active\", \"inactive\", \"trialing\"\n * @property {string|null} tier - e.g., \"free\", \"basic\", \"premium\"\n * @property {string|null} current_period_end - ISO date string\n * @property {boolean} cancel_at_period_end\n */ // Subscription and billing API calls - use proxied API\nconst billingAPI = {\n    /**\n   * Create Stripe checkout session\n   * @param {string} priceId - Stripe Price ID\n   * @returns {Promise<ApiResponse & { data?: CheckoutSessionResponseData }>} Checkout session URL/ID or error\n   */ createCheckoutSession: async (priceId)=>{\n        try {\n            const response = await api.post(\"/checkout/session\", {\n                price_id: priceId\n            });\n            return {\n                success: true,\n                data: response.data\n            };\n        } catch (error) {\n            console.error(\"Create checkout session error:\", error);\n            return {\n                success: false,\n                error: error.response?.data?.detail || \"Failed to create checkout session.\"\n            };\n        }\n    },\n    /**\n   * Get Stripe customer portal URL\n   * @returns {Promise<ApiResponse & { data?: CustomerPortalResponseData }>} Portal URL or error\n   */ getCustomerPortalUrl: async ()=>{\n        try {\n            const response = await api.post(\"/checkout/portal\");\n            return {\n                success: true,\n                data: response.data\n            };\n        } catch (error) {\n            console.error(\"Get customer portal error:\", error);\n            return {\n                success: false,\n                error: error.response?.data?.detail || \"Failed to get customer portal.\"\n            };\n        }\n    },\n    /**\n   * Get current subscription status\n   * @returns {Promise<ApiResponse & { data?: SubscriptionStatusData }>} Subscription status or error\n   */ getSubscriptionStatus: async ()=>{\n        try {\n            const response = await api.get(\"/subscription/status\");\n            return {\n                success: true,\n                data: response.data\n            };\n        } catch (error) {\n            console.error(\"Get subscription status error:\", error);\n            return {\n                success: false,\n                error: error.response?.data?.detail || \"Failed to get subscription status.\"\n            };\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (api);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtZQUNoRCxPQUFPO2dCQUNMZ0IsU0FBUztnQkFDVGhCLE9BQU9BLE1BQU1jLFFBQVEsRUFBRUcsTUFBTUMsVUFBVTtZQUN6QztRQUNGO0lBQ0Y7SUFFQTs7O0dBR0MsR0FDRHFCLHNCQUFzQjtRQUNwQixJQUFJO1lBQ0YsTUFBTXpCLFdBQVcsTUFBTTVCLElBQUk2QixJQUFJLENBQUM7WUFDaEMsT0FBTztnQkFDTEMsU0FBUztnQkFDVEMsTUFBTUgsU0FBU0csSUFBSTtZQUNyQjtRQUNGLEVBQUUsT0FBT2pCLE9BQU87WUFDZEYsUUFBUUUsS0FBSyxDQUFDLDhCQUE4QkE7WUFDNUMsT0FBTztnQkFDTGdCLFNBQVM7Z0JBQ1RoQixPQUFPQSxNQUFNYyxRQUFRLEVBQUVHLE1BQU1DLFVBQVU7WUFDekM7UUFDRjtJQUNGO0lBRUE7OztHQUdDLEdBQ0RzQix1QkFBdUI7UUFDckIsSUFBSTtZQUNGLE1BQU0xQixXQUFXLE1BQU01QixJQUFJUSxHQUFHLENBQUM7WUFDL0IsT0FBTztnQkFDTHNCLFNBQVM7Z0JBQ1RDLE1BQU1ILFNBQVNHLElBQUk7WUFDckI7UUFDRixFQUFFLE9BQU9qQixPQUFPO1lBQ2RGLFFBQVFFLEtBQUssQ0FBQyxrQ0FBa0NBO1lBQ2hELE9BQU87Z0JBQ0xnQixTQUFTO2dCQUNUaEIsT0FBT0EsTUFBTWMsUUFBUSxFQUFFRyxNQUFNQyxVQUFVO1lBQ3pDO1FBQ0Y7SUFDRjtBQUNGLEVBQUU7QUFFRixpRUFBZWhDLEdBQUdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kdm9qa2F2aXQtYWRtaW4vLi9zcmMvbGliL2FwaS5qcz9mY2ZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgQ29va2llcyBmcm9tICdqcy1jb29raWUnOyAvLyBSZXN0b3JlIENvb2tpZXMgaW1wb3J0XG5cbi8vIENyZWF0ZSBhbiBheGlvcyBpbnN0YW5jZSBmb3IgZGlyZWN0IGFjY2VzcyB0byB0aGUgRmFzdEFQSSBiYWNrZW5kXG4vLyBUaGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgb24gdGhlIHNlcnZlciBzaWRlIG9yIGZvciBzcGVjaWZpYyBlbmRwb2ludHNcbmV4cG9ydCBjb25zdCBkaXJlY3RBcGkgPSBheGlvcy5jcmVhdGUoe1xuICBiYXNlVVJMOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjgwMDAnLFxuICBoZWFkZXJzOiB7XG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgfSxcbiAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLCAgLy8gSW1wb3J0YW50IGZvciBDT1JTIHdpdGggY3JlZGVudGlhbHNcbn0pO1xuXG4vLyBDcmVhdGUgYW4gYXhpb3MgaW5zdGFuY2UgdGhhdCB1c2VzIHRoZSBOZXh0LmpzIEFQSSByb3V0ZXMgKHdoaWNoIGFyZSBwcm94aWVkIHRvIEZhc3RBUEkpXG4vLyBUaGlzIHNob3VsZCBiZSB1c2VkIGZvciBjbGllbnQtc2lkZSByZXF1ZXN0c1xuY29uc3QgYXBpID0gYXhpb3MuY3JlYXRlKHtcbiAgYmFzZVVSTDogJy9hcGknLCAvLyBUaGlzIHdpbGwgYmUgcHJveGllZCB0aHJvdWdoIE5leHQuanMgdG8gRmFzdEFQSVxuICBoZWFkZXJzOiB7XG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgfSxcbiAgd2l0aENyZWRlbnRpYWxzOiB0cnVlLCAgLy8gSW1wb3J0YW50IGZvciBDT1JTIHdpdGggY3JlZGVudGlhbHMgLSBLRUVQIFRISVNcbn0pO1xuXG4vLyBSZXN0b3JlIHJlcXVlc3QgaW50ZXJjZXB0b3IgZm9yICdhcGknIGluc3RhbmNlXG5hcGkuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKFxuICAoY29uZmlnKSA9PiB7XG4gICAgLy8gR2V0IHRva2VuIGZyb20gbG9jYWxTdG9yYWdlIG9yIGNvb2tpZXMgKGJyb3dzZXItb25seSlcbiAgICBsZXQgdG9rZW4gPSBudWxsOyAvLyBJbml0aWFsaXplIHRva2VuIGFzIG51bGxcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgQ29va2llcy5nZXQoJ2F1dGhfdG9rZW4nKTtcbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke3Rva2VufWA7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEFkZCBzcGVjaWZpYyBsb2dnaW5nIGZvciB0aGUgcHJvYmxlbWF0aWMgZW5kcG9pbnRzXG4gICAgaWYgKGNvbmZpZy51cmw/LmluY2x1ZGVzKCcvaW52b2ljZXMnKSB8fCBjb25maWcudXJsPy5pbmNsdWRlcygnL3N1YnNjcmlwdGlvbnMvYXV0aG9yaXplZC1kb21haW5zJykpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtBUEkgSW50ZXJjZXB0b3JdIFJlcXVlc3RpbmcgJHtjb25maWcudXJsfS4gVG9rZW4gZm91bmQ6ICR7ISF0b2tlbn0uIEhlYWRlciBzZXQ6ICR7Y29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA/ICdZZXMnIDogJ05vJ31gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfSxcbiAgKGVycm9yKSA9PiBQcm9taXNlLnJlamVjdChlcnJvcilcbik7XG5cbi8vIFJlc3RvcmUgcmVxdWVzdCBpbnRlcmNlcHRvciBmb3IgJ2RpcmVjdEFwaScgaW5zdGFuY2VcbmRpcmVjdEFwaS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoXG4gIChjb25maWcpID0+IHtcbiAgICAvLyBHZXQgdG9rZW4gZnJvbSBsb2NhbFN0b3JhZ2Ugb3IgY29va2llcyAoYnJvd3Nlci1vbmx5KVxuICAgIGxldCB0b2tlbiA9IG51bGw7IC8vIEluaXRpYWxpemUgdG9rZW4gYXMgbnVsbFxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSB8fCBDb29raWVzLmdldCgnYXV0aF90b2tlbicpO1xuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgICAgIH1cbiAgICB9XG4gICAgIC8vIEFkZCBzcGVjaWZpYyBsb2dnaW5nIGZvciB0aGUgcHJvYmxlbWF0aWMgZW5kcG9pbnRzIChpZiBkaXJlY3RBcGkgaXMgdXNlZCBmb3IgdGhlbSlcbiAgICAgaWYgKGNvbmZpZy51cmw/LmluY2x1ZGVzKCcvaW52b2ljZXMnKSB8fCBjb25maWcudXJsPy5pbmNsdWRlcygnL3N1YnNjcmlwdGlvbnMvYXV0aG9yaXplZC1kb21haW5zJykpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtEaXJlY3RBUEkgSW50ZXJjZXB0b3JdIFJlcXVlc3RpbmcgJHtjb25maWcudXJsfS4gVG9rZW4gZm91bmQ6ICR7ISF0b2tlbn0uIEhlYWRlciBzZXQ6ICR7Y29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA/ICdZZXMnIDogJ05vJ31gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfSxcbiAgKGVycm9yKSA9PiBQcm9taXNlLnJlamVjdChlcnJvcilcbik7XG5cblxuLy8gLS0tIEpTRG9jIFR5cGUgRGVmaW5pdGlvbnMgLS0tXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVXNlckRhdGFJbnB1dFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVtYWlsXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcGFzc3dvcmRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmaXJzdE5hbWVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbGFzdE5hbWVdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2NvbXBhbnldXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBCYWNrZW5kVXNlckNyZWF0ZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHVzZXJuYW1lXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZW1haWxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwYXNzd29yZFxuICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gY29tcGFueV9uYW1lXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBVc2VySW5mb1xuICogQHByb3BlcnR5IHtzdHJpbmd9IGlkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZW1haWxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB1c2VybmFtZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjb21wYW55X25hbWVdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc3Vic2NyaXB0aW9uX3RpZXJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdWJzY3JpcHRpb25fc3RhdHVzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3N0cmlwZV9jdXN0b21lcl9pZF1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc3RyaXBlX3N1YnNjcmlwdGlvbl9pZF1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNfZW1haWxfdmVyaWZpZWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjcmVhdGVkX2F0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VwZGF0ZWRfYXRdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2FwaV9rZXldXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBbYXV0aG9yaXplZF9kb21haW5zXVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQXBpUmVzcG9uc2VTdWNjZXNzXG4gKiBAcHJvcGVydHkge3RydWV9IHN1Y2Nlc3NcbiAqIEBwcm9wZXJ0eSB7YW55fSBkYXRhXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBcGlSZXNwb25zZUVycm9yXG4gKiBAcHJvcGVydHkge2ZhbHNlfSBzdWNjZXNzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZXJyb3JcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtBcGlSZXNwb25zZVN1Y2Nlc3MgfCBBcGlSZXNwb25zZUVycm9yfSBBcGlSZXNwb25zZVxuICovXG5cbi8vIC0tLSBFbmQgSlNEb2MgVHlwZSBEZWZpbml0aW9ucyAtLS1cblxuXG4vLyBBdXRoZW50aWNhdGlvbiBBUEkgY2FsbHNcbmV4cG9ydCBjb25zdCBhdXRoQVBJID0ge1xuICAvKipcbiAgICogUmVnaXN0ZXIgYSBuZXcgdXNlclxuICAgKiBAcGFyYW0ge1VzZXJEYXRhSW5wdXR9IHVzZXJEYXRhIC0gVXNlciByZWdpc3RyYXRpb24gZGF0YSBmcm9tIGZyb250ZW5kIGZvcm1cbiAgICogQHJldHVybnMge1Byb21pc2U8QXBpUmVzcG9uc2U+fSBCYWNrZW5kIHJlc3BvbnNlIG1lc3NhZ2Ugb3IgZXJyb3JcbiAgICovXG4gIHJlZ2lzdGVyOiBhc3luYyAodXNlckRhdGEpID0+IHtcbiAgICB0cnkge1xuICAgICAgLyoqIEB0eXBlIHtCYWNrZW5kVXNlckNyZWF0ZX0gKi9cbiAgICAgIGNvbnN0IGJhY2tlbmRVc2VyRGF0YSA9IHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJEYXRhLmZpcnN0TmFtZSArICh1c2VyRGF0YS5sYXN0TmFtZSA/ICcgJyArIHVzZXJEYXRhLmxhc3ROYW1lIDogJycpLFxuICAgICAgICBlbWFpbDogdXNlckRhdGEuZW1haWwsXG4gICAgICAgIHBhc3N3b3JkOiB1c2VyRGF0YS5wYXNzd29yZCxcbiAgICAgICAgY29tcGFueV9uYW1lOiB1c2VyRGF0YS5jb21wYW55IHx8IG51bGwsXG4gICAgICB9O1xuXG4gICAgICAvLyBVc2UgdGhlIGRpcmVjdCBBUEkgZm9yIHJlZ2lzdHJhdGlvbiAtIEZhc3RBUEkgZXhwZWN0cyAvYXBpIHByZWZpeFxuICAgICAgLy8gUmVzcG9uc2Ugc2hvdWxkIGJlIHsgbWVzc2FnZTogc3RyaW5nIH0gb24gc3VjY2Vzc1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkaXJlY3RBcGkucG9zdCgnL2FwaS9hdXRoL3JlZ2lzdGVyJywgYmFja2VuZFVzZXJEYXRhLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlLmRhdGFcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlZ2lzdHJhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLnJlc3BvbnNlPy5kYXRhPy5kZXRhaWwgfHwgJ1JlZ2lzdHJhdGlvbiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uJ1xuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIExvZ2luIHVzZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBcGlSZXNwb25zZSAmIHsgZGF0YT86IHsgYWNjZXNzX3Rva2VuOiBzdHJpbmcsIHJlZnJlc2hfdG9rZW46IHN0cmluZywgdG9rZW5fdHlwZTogc3RyaW5nIH0gfT59IEJhY2tlbmQgcmVzcG9uc2Ugd2l0aCB0b2tlbnMgb3IgZXJyb3JcbiAgICovXG4gIGxvZ2luOiBhc3luYyAoZW1haWwsIHBhc3N3b3JkKSA9PiB7IC8vIEFkanVzdGVkIHJldHVybiB0eXBlIEpTRG9jXG4gICAgdHJ5IHtcbiAgICAgIC8vIFVzZSBVUkxTZWFyY2hQYXJhbXMgZm9yIGZvcm0gZGF0YSAoT0F1dGgyIGZvcm1hdClcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKCd1c2VybmFtZScsIGVtYWlsKTsgLy8gT0F1dGgyIHVzZXMgJ3VzZXJuYW1lJyBldmVuIGZvciBlbWFpbFxuICAgICAgZm9ybURhdGEuYXBwZW5kKCdwYXNzd29yZCcsIHBhc3N3b3JkKTtcblxuICAgICAgLy8gVXNlIHRoZSBkaXJlY3QgQVBJIGZvciBsb2dpbiAtIEZhc3RBUEkgZXhwZWN0cyAvYXBpIHByZWZpeFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkaXJlY3RBcGkucG9zdCgnL2FwaS9hdXRoL2xvZ2luJywgZm9ybURhdGEsIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiByZXNwb25zZS5kYXRhIC8vIFNob3VsZCBjb250YWluIGFjY2Vzc190b2tlbiwgcmVmcmVzaF90b2tlblxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5yZXNwb25zZT8uZGF0YT8uZGV0YWlsIHx8ICdMb2dpbiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uJ1xuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IGF1dGhlbnRpY2F0ZWQgdXNlcidzIGRldGFpbHNcbiAgICogQHJldHVybnMge1Byb21pc2U8QXBpUmVzcG9uc2UgJiB7IGRhdGE/OiBVc2VySW5mbyB9Pn0gVXNlciBpbmZvIG9yIGVycm9yXG4gICAqL1xuICBnZXRDdXJyZW50VXNlcjogYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5nZXQoJy91c2Vycy9tZScpOyAvLyBVc2VzIHByb3hpZWQgQVBJIHdpdGggaW50ZXJjZXB0b3JcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlLmRhdGFcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0dldCBjdXJyZW50IHVzZXIgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5yZXNwb25zZT8uZGF0YT8uZGV0YWlsIHx8ICdGYWlsZWQgdG8gZ2V0IHVzZXIgaW5mb3JtYXRpb24uJ1xuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlcXVlc3QgcGFzc3dvcmQgcmVzZXQgZW1haWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEFwaVJlc3BvbnNlPn0gQmFja2VuZCByZXNwb25zZSBtZXNzYWdlIG9yIGVycm9yXG4gICAqL1xuICByZXF1ZXN0UGFzc3dvcmRSZXNldDogYXN5bmMgKGVtYWlsKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGlyZWN0QXBpLnBvc3QoJy9hcGkvYXV0aC9mb3Jnb3QtcGFzc3dvcmQnLCB7IGVtYWlsIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogcmVzcG9uc2UuZGF0YVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUGFzc3dvcmQgcmVzZXQgcmVxdWVzdCBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLnJlc3BvbnNlPy5kYXRhPy5kZXRhaWwgfHwgJ1Bhc3N3b3JkIHJlc2V0IHJlcXVlc3QgZmFpbGVkLidcbiAgICAgIH07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXNldCBwYXNzd29yZCB1c2luZyB0b2tlblxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9rZW4gLSBQYXNzd29yZCByZXNldCB0b2tlbiBmcm9tIGVtYWlsIGxpbmtcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1Bhc3N3b3JkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEFwaVJlc3BvbnNlPn0gQmFja2VuZCByZXNwb25zZSBtZXNzYWdlIG9yIGVycm9yXG4gICAqL1xuICByZXNldFBhc3N3b3JkOiBhc3luYyAodG9rZW4sIG5ld1Bhc3N3b3JkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGlyZWN0QXBpLnBvc3QoYC9hcGkvYXV0aC9yZXNldC1wYXNzd29yZC8ke3Rva2VufWAsIHtcbiAgICAgICAgcGFzc3dvcmQ6IG5ld1Bhc3N3b3JkLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiByZXNwb25zZS5kYXRhXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQYXNzd29yZCByZXNldCBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLnJlc3BvbnNlPy5kYXRhPy5kZXRhaWwgfHwgJ1Bhc3N3b3JkIHJlc2V0IGZhaWxlZC4nXG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVmVyaWZ5IGVtYWlsIHVzaW5nIHRva2VuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlbiAtIFZlcmlmaWNhdGlvbiB0b2tlbiBmcm9tIGVtYWlsIGxpbmtcbiAgICogQHJldHVybnMge1Byb21pc2U8QXBpUmVzcG9uc2U+fSBCYWNrZW5kIHJlc3BvbnNlIG1lc3NhZ2Ugb3IgZXJyb3JcbiAgICovXG4gIHZlcmlmeUVtYWlsOiBhc3luYyAodG9rZW4pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkaXJlY3RBcGkuZ2V0KGAvYXBpL2F1dGgvdmVyaWZ5LWVtYWlsLyR7dG9rZW59YCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiByZXNwb25zZS5kYXRhXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFbWFpbCB2ZXJpZmljYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5yZXNwb25zZT8uZGF0YT8uZGV0YWlsIHx8ICdFbWFpbCB2ZXJpZmljYXRpb24gZmFpbGVkLidcbiAgICAgIH07XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFVzZXJQcm9maWxlVXBkYXRlRGF0YVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1c2VybmFtZV1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29tcGFueV9uYW1lXVxuICogLy8gQWRkIG90aGVyIHVwZGF0YWJsZSBwcm9maWxlIGZpZWxkcyBoZXJlIGlmIGFueVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ2hhbmdlUGFzc3dvcmREYXRhXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY3VycmVudF9wYXNzd29yZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IG5ld19wYXNzd29yZFxuICovXG5cbi8vIFVzZXIgQVBJIGNhbGxzIC0gdXNlIHByb3hpZWQgQVBJXG5leHBvcnQgY29uc3QgdXNlckFQSSA9IHtcbiAgLyoqXG4gICAqIFVwZGF0ZSB1c2VyIHByb2ZpbGVcbiAgICogQHBhcmFtIHtVc2VyUHJvZmlsZVVwZGF0ZURhdGF9IHVzZXJEYXRhIC0gRGF0YSB0byB1cGRhdGVcbiAgICogQHJldHVybnMge1Byb21pc2U8QXBpUmVzcG9uc2UgJiB7IGRhdGE/OiBVc2VySW5mbyB9Pn0gVXBkYXRlZCB1c2VyIGluZm8gb3IgZXJyb3JcbiAgICovXG4gIHVwZGF0ZVByb2ZpbGU6IGFzeW5jICh1c2VyRGF0YSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5wdXQoJy91c2Vycy9wcm9maWxlJywgdXNlckRhdGEpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogcmVzcG9uc2UuZGF0YVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVXBkYXRlIHByb2ZpbGUgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5yZXNwb25zZT8uZGF0YT8uZGV0YWlsIHx8ICdQcm9maWxlIHVwZGF0ZSBmYWlsZWQuJ1xuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoYW5nZSB1c2VyIHBhc3N3b3JkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjdXJyZW50UGFzc3dvcmRcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1Bhc3N3b3JkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEFwaVJlc3BvbnNlPn0gU3VjY2Vzcy9lcnJvciBtZXNzYWdlXG4gICAqL1xuICBjaGFuZ2VQYXNzd29yZDogYXN5bmMgKGN1cnJlbnRQYXNzd29yZCwgbmV3UGFzc3dvcmQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdCgnL3VzZXJzL2NoYW5nZS1wYXNzd29yZCcsIHtcbiAgICAgICAgY3VycmVudF9wYXNzd29yZDogY3VycmVudFBhc3N3b3JkLFxuICAgICAgICBuZXdfcGFzc3dvcmQ6IG5ld1Bhc3N3b3JkLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiByZXNwb25zZS5kYXRhXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDaGFuZ2UgcGFzc3dvcmQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvci5yZXNwb25zZT8uZGF0YT8uZGV0YWlsIHx8ICdQYXNzd29yZCBjaGFuZ2UgZmFpbGVkLidcbiAgICAgIH07XG4gICAgfVxuICB9LFxufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDaGVja291dFNlc3Npb25SZXNwb25zZURhdGFcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjaGVja291dF91cmxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzZXNzaW9uX2lkXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDdXN0b21lclBvcnRhbFJlc3BvbnNlRGF0YVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHBvcnRhbF91cmxcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN1YnNjcmlwdGlvblN0YXR1c0RhdGFcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdGF0dXMgLSBlLmcuLCBcImFjdGl2ZVwiLCBcImluYWN0aXZlXCIsIFwidHJpYWxpbmdcIlxuICogQHByb3BlcnR5IHtzdHJpbmd8bnVsbH0gdGllciAtIGUuZy4sIFwiZnJlZVwiLCBcImJhc2ljXCIsIFwicHJlbWl1bVwiXG4gKiBAcHJvcGVydHkge3N0cmluZ3xudWxsfSBjdXJyZW50X3BlcmlvZF9lbmQgLSBJU08gZGF0ZSBzdHJpbmdcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2FuY2VsX2F0X3BlcmlvZF9lbmRcbiAqL1xuXG5cbi8vIFN1YnNjcmlwdGlvbiBhbmQgYmlsbGluZyBBUEkgY2FsbHMgLSB1c2UgcHJveGllZCBBUElcbmV4cG9ydCBjb25zdCBiaWxsaW5nQVBJID0ge1xuICAvKipcbiAgICogQ3JlYXRlIFN0cmlwZSBjaGVja291dCBzZXNzaW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcmljZUlkIC0gU3RyaXBlIFByaWNlIElEXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEFwaVJlc3BvbnNlICYgeyBkYXRhPzogQ2hlY2tvdXRTZXNzaW9uUmVzcG9uc2VEYXRhIH0+fSBDaGVja291dCBzZXNzaW9uIFVSTC9JRCBvciBlcnJvclxuICAgKi9cbiAgY3JlYXRlQ2hlY2tvdXRTZXNzaW9uOiBhc3luYyAocHJpY2VJZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5wb3N0KCcvY2hlY2tvdXQvc2Vzc2lvbicsIHtcbiAgICAgICAgcHJpY2VfaWQ6IHByaWNlSWQsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlLmRhdGFcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NyZWF0ZSBjaGVja291dCBzZXNzaW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IucmVzcG9uc2U/LmRhdGE/LmRldGFpbCB8fCAnRmFpbGVkIHRvIGNyZWF0ZSBjaGVja291dCBzZXNzaW9uLidcbiAgICAgIH07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgU3RyaXBlIGN1c3RvbWVyIHBvcnRhbCBVUkxcbiAgICogQHJldHVybnMge1Byb21pc2U8QXBpUmVzcG9uc2UgJiB7IGRhdGE/OiBDdXN0b21lclBvcnRhbFJlc3BvbnNlRGF0YSB9Pn0gUG9ydGFsIFVSTCBvciBlcnJvclxuICAgKi9cbiAgZ2V0Q3VzdG9tZXJQb3J0YWxVcmw6IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdCgnL2NoZWNrb3V0L3BvcnRhbCcpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogcmVzcG9uc2UuZGF0YVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignR2V0IGN1c3RvbWVyIHBvcnRhbCBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yLnJlc3BvbnNlPy5kYXRhPy5kZXRhaWwgfHwgJ0ZhaWxlZCB0byBnZXQgY3VzdG9tZXIgcG9ydGFsLidcbiAgICAgIH07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBzdWJzY3JpcHRpb24gc3RhdHVzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEFwaVJlc3BvbnNlICYgeyBkYXRhPzogU3Vic2NyaXB0aW9uU3RhdHVzRGF0YSB9Pn0gU3Vic2NyaXB0aW9uIHN0YXR1cyBvciBlcnJvclxuICAgKi9cbiAgZ2V0U3Vic2NyaXB0aW9uU3RhdHVzOiBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldCgnL3N1YnNjcmlwdGlvbi9zdGF0dXMnKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlLmRhdGFcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0dldCBzdWJzY3JpcHRpb24gc3RhdHVzIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IucmVzcG9uc2U/LmRhdGE/LmRldGFpbCB8fCAnRmFpbGVkIHRvIGdldCBzdWJzY3JpcHRpb24gc3RhdHVzLidcbiAgICAgIH07XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXBpO1xuIl0sIm5hbWVzIjpbImF4aW9zIiwiQ29va2llcyIsImRpcmVjdEFwaSIsImNyZWF0ZSIsImJhc2VVUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImhlYWRlcnMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJhcGkiLCJpbnRlcmNlcHRvcnMiLCJyZXF1ZXN0IiwidXNlIiwiY29uZmlnIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZ2V0IiwiQXV0aG9yaXphdGlvbiIsInVybCIsImluY2x1ZGVzIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiUHJvbWlzZSIsInJlamVjdCIsImF1dGhBUEkiLCJyZWdpc3RlciIsInVzZXJEYXRhIiwiYmFja2VuZFVzZXJEYXRhIiwidXNlcm5hbWUiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJjb21wYW55X25hbWUiLCJjb21wYW55IiwicmVzcG9uc2UiLCJwb3N0Iiwic3VjY2VzcyIsImRhdGEiLCJkZXRhaWwiLCJsb2dpbiIsImZvcm1EYXRhIiwiVVJMU2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwiZ2V0Q3VycmVudFVzZXIiLCJyZXF1ZXN0UGFzc3dvcmRSZXNldCIsInJlc2V0UGFzc3dvcmQiLCJuZXdQYXNzd29yZCIsInZlcmlmeUVtYWlsIiwidXNlckFQSSIsInVwZGF0ZVByb2ZpbGUiLCJwdXQiLCJjaGFuZ2VQYXNzd29yZCIsImN1cnJlbnRQYXNzd29yZCIsImN1cnJlbnRfcGFzc3dvcmQiLCJuZXdfcGFzc3dvcmQiLCJiaWxsaW5nQVBJIiwiY3JlYXRlQ2hlY2tvdXRTZXNzaW9uIiwicHJpY2VJZCIsInByaWNlX2lkIiwiZ2V0Q3VzdG9tZXJQb3J0YWxVcmwiLCJnZXRTdWJzY3JpcHRpb25TdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/api.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/mime-db","vendor-chunks/axios","vendor-chunks/@babel","vendor-chunks/follow-redirects","vendor-chunks/debug","vendor-chunks/get-intrinsic","vendor-chunks/form-data","vendor-chunks/asynckit","vendor-chunks/combined-stream","vendor-chunks/mime-types","vendor-chunks/js-cookie","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/supports-color","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/function-bind","vendor-chunks/es-set-tostringtag","vendor-chunks/get-proto","vendor-chunks/call-bind-apply-helpers","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/has-flag","vendor-chunks/gopd","vendor-chunks/es-define-property","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/openid-client","vendor-chunks/uuid","vendor-chunks/oauth","vendor-chunks/@panva","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/oidc-token-hash","vendor-chunks/preact","vendor-chunks/object-hash","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.js&appDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();