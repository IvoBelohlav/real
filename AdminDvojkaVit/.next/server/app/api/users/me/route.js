"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/users/me/route";
exports.ids = ["app/api/users/me/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Fme%2Froute&page=%2Fapi%2Fusers%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Fme%2Froute.js&appDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Fme%2Froute&page=%2Fapi%2Fusers%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Fme%2Froute.js&appDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_Fullstack_applicationOfficial_Fullstack_application_6_3_AdminDvojkaVit_src_app_api_users_me_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/users/me/route.js */ \"(rsc)/./src/app/api/users/me/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/users/me/route\",\n        pathname: \"/api/users/me\",\n        filename: \"route\",\n        bundlePath: \"app/api/users/me/route\"\n    },\n    resolvedPagePath: \"E:\\\\Fullstack-applicationOfficial\\\\Fullstack-application 6.3\\\\AdminDvojkaVit\\\\src\\\\app\\\\api\\\\users\\\\me\\\\route.js\",\n    nextConfigOutput,\n    userland: E_Fullstack_applicationOfficial_Fullstack_application_6_3_AdminDvojkaVit_src_app_api_users_me_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/users/me/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ1c2VycyUyRm1lJTJGcm91dGUmcGFnZT0lMkZhcGklMkZ1c2VycyUyRm1lJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGdXNlcnMlMkZtZSUyRnJvdXRlLmpzJmFwcERpcj1FJTNBJTVDRnVsbHN0YWNrLWFwcGxpY2F0aW9uT2ZmaWNpYWwlNUNGdWxsc3RhY2stYXBwbGljYXRpb24lMjA2LjMlNUNBZG1pbkR2b2prYVZpdCU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RSUzQSU1Q0Z1bGxzdGFjay1hcHBsaWNhdGlvbk9mZmljaWFsJTVDRnVsbHN0YWNrLWFwcGxpY2F0aW9uJTIwNi4zJTVDQWRtaW5Edm9qa2FWaXQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2dFO0FBQzdJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZHZvamthdml0LWFkbWluLz9lNDI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkU6XFxcXEZ1bGxzdGFjay1hcHBsaWNhdGlvbk9mZmljaWFsXFxcXEZ1bGxzdGFjay1hcHBsaWNhdGlvbiA2LjNcXFxcQWRtaW5Edm9qa2FWaXRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdXNlcnNcXFxcbWVcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VzZXJzL21lL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdXNlcnMvbWVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3VzZXJzL21lL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRTpcXFxcRnVsbHN0YWNrLWFwcGxpY2F0aW9uT2ZmaWNpYWxcXFxcRnVsbHN0YWNrLWFwcGxpY2F0aW9uIDYuM1xcXFxBZG1pbkR2b2prYVZpdFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFx1c2Vyc1xcXFxtZVxcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvdXNlcnMvbWUvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Fme%2Froute&page=%2Fapi%2Fusers%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Fme%2Froute.js&appDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/users/me/route.js":
/*!***************************************!*\
  !*** ./src/app/api/users/me/route.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.js\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nasync function GET(request) {\n    try {\n        console.log(\"[API] /users/me endpoint called\");\n        // Get the token from the Authorization header\n        const authHeader = request.headers.get(\"authorization\");\n        let token = null;\n        if (authHeader && authHeader.startsWith(\"Bearer \")) {\n            token = authHeader.substring(7); // Remove 'Bearer ' prefix\n            console.log(\"[API] Found token in Authorization header\");\n        }\n        // If no token in header, check cookies or query parameters\n        if (!token) {\n            console.log(\"[API] No token in Authorization header, checking alternatives\");\n            // For debug/testing, allow fetching user by email from query string\n            const url = new URL(request.url);\n            const email = url.searchParams.get(\"email\");\n            if (email) {\n                console.log(`[API] Fetching user by email: ${email} (debug mode)`);\n                const { db } = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n                const user = await db.collection(\"users\").findOne({\n                    email\n                });\n                if (!user) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        error: \"User not found\"\n                    }, {\n                        status: 404\n                    });\n                }\n                // Return user data (excluding password)\n                const { password, ...userData } = user;\n                userData._id = userData._id.toString(); // Convert ObjectId to string\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(userData);\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No authentication token found\"\n            }, {\n                status: 401\n            });\n        }\n        // For our simple token format (base64 encoded userId:timestamp)\n        let userId = null;\n        try {\n            const tokenData = Buffer.from(token, \"base64\").toString();\n            userId = tokenData.split(\":\")[0]; // Extract userId\n            console.log(`[API] Decoded token, userId: ${userId}`);\n        } catch (error) {\n            console.error(\"[API] Error decoding token:\", error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid token format\"\n            }, {\n                status: 401\n            });\n        }\n        // Connect to the database\n        const { db } = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.connectToDatabase)();\n        // Find the user by ID\n        let user;\n        try {\n            user = await db.collection(\"users\").findOne({\n                _id: new mongodb__WEBPACK_IMPORTED_MODULE_2__.ObjectId(userId)\n            });\n            console.log(`[API] User lookup result: ${user ? \"Found\" : \"Not found\"}`);\n        } catch (error) {\n            console.error(\"[API] Error looking up user by ID:\", error);\n            // If error is related to ObjectId format, try using userId as a string\n            if (error.message.includes(\"ObjectId\")) {\n                user = await db.collection(\"users\").findOne({\n                    id: userId\n                });\n                console.log(`[API] Fallback user lookup by string ID: ${user ? \"Found\" : \"Not found\"}`);\n            }\n        }\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"User not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Return user data (excluding password)\n        const { password, ...userData } = user;\n        // Convert ObjectId to string to ensure it's JSON serializable\n        userData._id = userData._id.toString();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(userData);\n    } catch (error) {\n        console.error(\"[API] Error in /users/me:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to get user data\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBQ3pEdkIsUUFBUUMsR0FBRyxDQUFDLENBQUMseUNBQXlDLEVBQUVZLE9BQU8sVUFBVSxZQUFZLENBQUM7WUFDeEY7UUFDRjtRQUVBLElBQUksQ0FBQ0EsTUFBTTtZQUNULE9BQU9sQixxREFBWUEsQ0FBQ3FCLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBaUIsR0FDMUI7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLHdDQUF3QztRQUN4QyxNQUFNLEVBQUVDLFFBQVEsRUFBRSxHQUFHQyxVQUFVLEdBQUdQO1FBRWxDLDhEQUE4RDtRQUM5RE8sU0FBU0MsR0FBRyxHQUFHRCxTQUFTQyxHQUFHLENBQUNDLFFBQVE7UUFFcEMsT0FBTzNCLHFEQUFZQSxDQUFDcUIsSUFBSSxDQUFDSTtJQUUzQixFQUFFLE9BQU9ILE9BQU87UUFDZGpCLFFBQVFpQixLQUFLLENBQUMsNkJBQTZCQTtRQUUzQyxPQUFPdEIscURBQVlBLENBQUNxQixJQUFJLENBQ3RCO1lBQUVDLE9BQU87WUFBMkJjLFNBQVNkLE1BQU1XLE9BQU87UUFBQyxHQUMzRDtZQUFFVixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2R2b2prYXZpdC1hZG1pbi8uL3NyYy9hcHAvYXBpL3VzZXJzL21lL3JvdXRlLmpzPzcyOTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgY29ubmVjdFRvRGF0YWJhc2UgfSBmcm9tICdAL2xpYi9tb25nb2RiJztcbmltcG9ydCB7IE9iamVjdElkIH0gZnJvbSAnbW9uZ29kYic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdbQVBJXSAvdXNlcnMvbWUgZW5kcG9pbnQgY2FsbGVkJyk7XG4gICAgXG4gICAgLy8gR2V0IHRoZSB0b2tlbiBmcm9tIHRoZSBBdXRob3JpemF0aW9uIGhlYWRlclxuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJyk7XG4gICAgbGV0IHRva2VuID0gbnVsbDtcbiAgICBcbiAgICBpZiAoYXV0aEhlYWRlciAmJiBhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkge1xuICAgICAgdG9rZW4gPSBhdXRoSGVhZGVyLnN1YnN0cmluZyg3KTsgLy8gUmVtb3ZlICdCZWFyZXIgJyBwcmVmaXhcbiAgICAgIGNvbnNvbGUubG9nKCdbQVBJXSBGb3VuZCB0b2tlbiBpbiBBdXRob3JpemF0aW9uIGhlYWRlcicpO1xuICAgIH1cbiAgICBcbiAgICAvLyBJZiBubyB0b2tlbiBpbiBoZWFkZXIsIGNoZWNrIGNvb2tpZXMgb3IgcXVlcnkgcGFyYW1ldGVyc1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbQVBJXSBObyB0b2tlbiBpbiBBdXRob3JpemF0aW9uIGhlYWRlciwgY2hlY2tpbmcgYWx0ZXJuYXRpdmVzJyk7XG4gICAgICBcbiAgICAgIC8vIEZvciBkZWJ1Zy90ZXN0aW5nLCBhbGxvdyBmZXRjaGluZyB1c2VyIGJ5IGVtYWlsIGZyb20gcXVlcnkgc3RyaW5nXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICAgIGNvbnN0IGVtYWlsID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2VtYWlsJyk7XG4gICAgICBcbiAgICAgIGlmIChlbWFpbCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgW0FQSV0gRmV0Y2hpbmcgdXNlciBieSBlbWFpbDogJHtlbWFpbH0gKGRlYnVnIG1vZGUpYCk7XG4gICAgICAgIGNvbnN0IHsgZGIgfSA9IGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmZpbmRPbmUoeyBlbWFpbCB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgIHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJldHVybiB1c2VyIGRhdGEgKGV4Y2x1ZGluZyBwYXNzd29yZClcbiAgICAgICAgY29uc3QgeyBwYXNzd29yZCwgLi4udXNlckRhdGEgfSA9IHVzZXI7XG4gICAgICAgIHVzZXJEYXRhLl9pZCA9IHVzZXJEYXRhLl9pZC50b1N0cmluZygpOyAvLyBDb252ZXJ0IE9iamVjdElkIHRvIHN0cmluZ1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHVzZXJEYXRhKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTm8gYXV0aGVudGljYXRpb24gdG9rZW4gZm91bmQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRm9yIG91ciBzaW1wbGUgdG9rZW4gZm9ybWF0IChiYXNlNjQgZW5jb2RlZCB1c2VySWQ6dGltZXN0YW1wKVxuICAgIGxldCB1c2VySWQgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlbkRhdGEgPSBCdWZmZXIuZnJvbSh0b2tlbiwgJ2Jhc2U2NCcpLnRvU3RyaW5nKCk7XG4gICAgICB1c2VySWQgPSB0b2tlbkRhdGEuc3BsaXQoJzonKVswXTsgLy8gRXh0cmFjdCB1c2VySWRcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYFtBUEldIERlY29kZWQgdG9rZW4sIHVzZXJJZDogJHt1c2VySWR9YCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBUEldIEVycm9yIGRlY29kaW5nIHRva2VuOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0ludmFsaWQgdG9rZW4gZm9ybWF0JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIC8vIENvbm5lY3QgdG8gdGhlIGRhdGFiYXNlXG4gICAgY29uc3QgeyBkYiB9ID0gYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKTtcbiAgICBcbiAgICAvLyBGaW5kIHRoZSB1c2VyIGJ5IElEXG4gICAgbGV0IHVzZXI7XG4gICAgdHJ5IHtcbiAgICAgIHVzZXIgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmZpbmRPbmUoeyBcbiAgICAgICAgX2lkOiBuZXcgT2JqZWN0SWQodXNlcklkKSBcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgW0FQSV0gVXNlciBsb29rdXAgcmVzdWx0OiAke3VzZXIgPyAnRm91bmQnIDogJ05vdCBmb3VuZCd9YCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBUEldIEVycm9yIGxvb2tpbmcgdXAgdXNlciBieSBJRDonLCBlcnJvcik7XG4gICAgICBcbiAgICAgIC8vIElmIGVycm9yIGlzIHJlbGF0ZWQgdG8gT2JqZWN0SWQgZm9ybWF0LCB0cnkgdXNpbmcgdXNlcklkIGFzIGEgc3RyaW5nXG4gICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnT2JqZWN0SWQnKSkge1xuICAgICAgICB1c2VyID0gYXdhaXQgZGIuY29sbGVjdGlvbigndXNlcnMnKS5maW5kT25lKHsgaWQ6IHVzZXJJZCB9KTtcbiAgICAgICAgY29uc29sZS5sb2coYFtBUEldIEZhbGxiYWNrIHVzZXIgbG9va3VwIGJ5IHN0cmluZyBJRDogJHt1c2VyID8gJ0ZvdW5kJyA6ICdOb3QgZm91bmQnfWApO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1VzZXIgbm90IGZvdW5kJyB9LFxuICAgICAgICB7IHN0YXR1czogNDA0IH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIC8vIFJldHVybiB1c2VyIGRhdGEgKGV4Y2x1ZGluZyBwYXNzd29yZClcbiAgICBjb25zdCB7IHBhc3N3b3JkLCAuLi51c2VyRGF0YSB9ID0gdXNlcjtcbiAgICBcbiAgICAvLyBDb252ZXJ0IE9iamVjdElkIHRvIHN0cmluZyB0byBlbnN1cmUgaXQncyBKU09OIHNlcmlhbGl6YWJsZVxuICAgIHVzZXJEYXRhLl9pZCA9IHVzZXJEYXRhLl9pZC50b1N0cmluZygpO1xuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih1c2VyRGF0YSk7XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW0FQSV0gRXJyb3IgaW4gL3VzZXJzL21lOicsIGVycm9yKTtcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGdldCB1c2VyIGRhdGEnLCBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjb25uZWN0VG9EYXRhYmFzZSIsIk9iamVjdElkIiwiR0VUIiwicmVxdWVzdCIsImNvbnNvbGUiLCJsb2ciLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsImdldCIsInRva2VuIiwic3RhcnRzV2l0aCIsInN1YnN0cmluZyIsInVybCIsIlVSTCIsImVtYWlsIiwic2VhcmNoUGFyYW1zIiwiZGIiLCJ1c2VyIiwiY29sbGVjdGlvbiIsImZpbmRPbmUiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJwYXNzd29yZCIsInVzZXJEYXRhIiwiX2lkIiwidG9TdHJpbmciLCJ1c2VySWQiLCJ0b2tlbkRhdGEiLCJCdWZmZXIiLCJmcm9tIiwic3BsaXQiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJpZCIsImRldGFpbHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/users/me/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.js":
/*!****************************!*\
  !*** ./src/lib/mongodb.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectToDatabase: () => (/* binding */ connectToDatabase)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI || \"mongodb://localhost:27017\";\nconst MONGODB_DB = process.env.MONGODB_DB || \"dvojkavit\";\n// Cache the MongoDB connection to avoid reconnecting on every API call\nlet cachedClient = null;\nlet cachedDb = null;\nasync function connectToDatabase() {\n    // If we have a cached connection, use it\n    if (cachedClient && cachedDb) {\n        return {\n            client: cachedClient,\n            db: cachedDb\n        };\n    }\n    // For development/testing, if MongoDB isn't available, return a mock DB\n    if (true) {\n        try {\n            // Try to connect to MongoDB, but don't throw if it fails\n            const client = await mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient.connect(MONGODB_URI, {\n                serverSelectionTimeoutMS: 2000\n            });\n            const db = client.db(MONGODB_DB);\n            // Cache the connection\n            cachedClient = client;\n            cachedDb = db;\n            console.log(\"Connected to MongoDB successfully\");\n            return {\n                client,\n                db\n            };\n        } catch (error) {\n            console.warn(\"MongoDB connection failed, using mock DB:\", error.message);\n            // Create a mock DB that works for our APIs\n            const mockCollections = {\n                invoices: createMockCollection(\"invoices\"),\n                subscriptions: createMockCollection(\"subscriptions\"),\n                users: createMockCollection(\"users\")\n            };\n            const mockDb = {\n                collection: (name)=>mockCollections[name] || createMockCollection(name)\n            };\n            return {\n                client: null,\n                db: mockDb\n            };\n        }\n    }\n    // For production, throw an error if we can't connect\n    try {\n        const client = await mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient.connect(MONGODB_URI);\n        const db = client.db(MONGODB_DB);\n        cachedClient = client;\n        cachedDb = db;\n        return {\n            client,\n            db\n        };\n    } catch (error) {\n        console.error(\"Failed to connect to MongoDB:\", error);\n        throw new Error(\"Failed to connect to the database\");\n    }\n}\n// Create a mock collection with method implementations that do nothing or return empty results\nfunction createMockCollection(name) {\n    return {\n        find: ()=>({\n                sort: ()=>({\n                        toArray: async ()=>[]\n                    })\n            }),\n        findOne: async ()=>null,\n        insertOne: async ()=>({\n                insertedId: `mock_${Date.now()}`\n            }),\n        updateOne: async ()=>({\n                modifiedCount: 1\n            })\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNDO0FBRXRDLE1BQU1DLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0YsV0FBVyxJQUFJO0FBQy9DLE1BQU1HLGFBQWFGLFFBQVFDLEdBQUcsQ0FBQ0MsVUFBVSxJQUFJO0FBRTdDLHVFQUF1RTtBQUN2RSxJQUFJQyxlQUFlO0FBQ25CLElBQUlDLFdBQVc7QUFFUixlQUFlQztJQUNwQix5Q0FBeUM7SUFDekMsSUFBSUYsZ0JBQWdCQyxVQUFVO1FBQzVCLE9BQU87WUFBRUUsUUFBUUg7WUFBY0ksSUFBSUg7UUFBUztJQUM5QztJQUVBLHdFQUF3RTtJQUN4RSxJQUFJSixJQUF5QixFQUFjO1FBQ3pDLElBQUk7WUFDRix5REFBeUQ7WUFDekQsTUFBTU0sU0FBUyxNQUFNUixnREFBV0EsQ0FBQ1UsT0FBTyxDQUFDVCxhQUFhO2dCQUNwRFUsMEJBQTBCO1lBQzVCO1lBRUEsTUFBTUYsS0FBS0QsT0FBT0MsRUFBRSxDQUFDTDtZQUVyQix1QkFBdUI7WUFDdkJDLGVBQWVHO1lBQ2ZGLFdBQVdHO1lBRVhHLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU87Z0JBQUVMO2dCQUFRQztZQUFHO1FBQ3RCLEVBQUUsT0FBT0ssT0FBTztZQUNkRixRQUFRRyxJQUFJLENBQUMsNkNBQTZDRCxNQUFNRSxPQUFPO1lBRXZFLDJDQUEyQztZQUMzQyxNQUFNQyxrQkFBa0I7Z0JBQ3RCQyxVQUFVQyxxQkFBcUI7Z0JBQy9CQyxlQUFlRCxxQkFBcUI7Z0JBQ3BDRSxPQUFPRixxQkFBcUI7WUFDOUI7WUFFQSxNQUFNRyxTQUFTO2dCQUNiQyxZQUFZLENBQUNDLE9BQVNQLGVBQWUsQ0FBQ08sS0FBSyxJQUFJTCxxQkFBcUJLO1lBQ3RFO1lBRUEsT0FBTztnQkFBRWhCLFFBQVE7Z0JBQU1DLElBQUlhO1lBQU87UUFDcEM7SUFDRjtJQUVBLHFEQUFxRDtJQUNyRCxJQUFJO1FBQ0YsTUFBTWQsU0FBUyxNQUFNUixnREFBV0EsQ0FBQ1UsT0FBTyxDQUFDVDtRQUN6QyxNQUFNUSxLQUFLRCxPQUFPQyxFQUFFLENBQUNMO1FBRXJCQyxlQUFlRztRQUNmRixXQUFXRztRQUVYLE9BQU87WUFBRUQ7WUFBUUM7UUFBRztJQUN0QixFQUFFLE9BQU9LLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLGlDQUFpQ0E7UUFDL0MsTUFBTSxJQUFJVyxNQUFNO0lBQ2xCO0FBQ0Y7QUFFQSwrRkFBK0Y7QUFDL0YsU0FBU04scUJBQXFCSyxJQUFJO0lBQ2hDLE9BQU87UUFDTEUsTUFBTSxJQUFPO2dCQUNYQyxNQUFNLElBQU87d0JBQ1hDLFNBQVMsVUFBWSxFQUFFO29CQUN6QjtZQUNGO1FBQ0FDLFNBQVMsVUFBWTtRQUNyQkMsV0FBVyxVQUFhO2dCQUFFQyxZQUFZLENBQUMsS0FBSyxFQUFFQyxLQUFLQyxHQUFHLEdBQUcsQ0FBQztZQUFDO1FBQzNEQyxXQUFXLFVBQWE7Z0JBQUVDLGVBQWU7WUFBRTtJQUM3QztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZHZvamthdml0LWFkbWluLy4vc3JjL2xpYi9tb25nb2RiLmpzPzhiMDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9uZ29DbGllbnQgfSBmcm9tICdtb25nb2RiJztcblxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSSB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyc7XG5jb25zdCBNT05HT0RCX0RCID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9EQiB8fCAnZHZvamthdml0JztcblxuLy8gQ2FjaGUgdGhlIE1vbmdvREIgY29ubmVjdGlvbiB0byBhdm9pZCByZWNvbm5lY3Rpbmcgb24gZXZlcnkgQVBJIGNhbGxcbmxldCBjYWNoZWRDbGllbnQgPSBudWxsO1xubGV0IGNhY2hlZERiID0gbnVsbDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb0RhdGFiYXNlKCkge1xuICAvLyBJZiB3ZSBoYXZlIGEgY2FjaGVkIGNvbm5lY3Rpb24sIHVzZSBpdFxuICBpZiAoY2FjaGVkQ2xpZW50ICYmIGNhY2hlZERiKSB7XG4gICAgcmV0dXJuIHsgY2xpZW50OiBjYWNoZWRDbGllbnQsIGRiOiBjYWNoZWREYiB9O1xuICB9XG4gIFxuICAvLyBGb3IgZGV2ZWxvcG1lbnQvdGVzdGluZywgaWYgTW9uZ29EQiBpc24ndCBhdmFpbGFibGUsIHJldHVybiBhIG1vY2sgREJcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVHJ5IHRvIGNvbm5lY3QgdG8gTW9uZ29EQiwgYnV0IGRvbid0IHRocm93IGlmIGl0IGZhaWxzXG4gICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBNb25nb0NsaWVudC5jb25uZWN0KE1PTkdPREJfVVJJLCB7XG4gICAgICAgIHNlcnZlclNlbGVjdGlvblRpbWVvdXRNUzogMjAwMCwgLy8gUXVpY2sgdGltZW91dCBmb3IgZmFzdGVyIGRldlxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRiID0gY2xpZW50LmRiKE1PTkdPREJfREIpO1xuICAgICAgXG4gICAgICAvLyBDYWNoZSB0aGUgY29ubmVjdGlvblxuICAgICAgY2FjaGVkQ2xpZW50ID0gY2xpZW50O1xuICAgICAgY2FjaGVkRGIgPSBkYjtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBNb25nb0RCIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgcmV0dXJuIHsgY2xpZW50LCBkYiB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ01vbmdvREIgY29ubmVjdGlvbiBmYWlsZWQsIHVzaW5nIG1vY2sgREI6JywgZXJyb3IubWVzc2FnZSk7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIG1vY2sgREIgdGhhdCB3b3JrcyBmb3Igb3VyIEFQSXNcbiAgICAgIGNvbnN0IG1vY2tDb2xsZWN0aW9ucyA9IHtcbiAgICAgICAgaW52b2ljZXM6IGNyZWF0ZU1vY2tDb2xsZWN0aW9uKCdpbnZvaWNlcycpLFxuICAgICAgICBzdWJzY3JpcHRpb25zOiBjcmVhdGVNb2NrQ29sbGVjdGlvbignc3Vic2NyaXB0aW9ucycpLFxuICAgICAgICB1c2VyczogY3JlYXRlTW9ja0NvbGxlY3Rpb24oJ3VzZXJzJyksXG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCBtb2NrRGIgPSB7XG4gICAgICAgIGNvbGxlY3Rpb246IChuYW1lKSA9PiBtb2NrQ29sbGVjdGlvbnNbbmFtZV0gfHwgY3JlYXRlTW9ja0NvbGxlY3Rpb24obmFtZSksXG4gICAgICB9O1xuICAgICAgXG4gICAgICByZXR1cm4geyBjbGllbnQ6IG51bGwsIGRiOiBtb2NrRGIgfTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIEZvciBwcm9kdWN0aW9uLCB0aHJvdyBhbiBlcnJvciBpZiB3ZSBjYW4ndCBjb25uZWN0XG4gIHRyeSB7XG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgTW9uZ29DbGllbnQuY29ubmVjdChNT05HT0RCX1VSSSk7XG4gICAgY29uc3QgZGIgPSBjbGllbnQuZGIoTU9OR09EQl9EQik7XG4gICAgXG4gICAgY2FjaGVkQ2xpZW50ID0gY2xpZW50O1xuICAgIGNhY2hlZERiID0gZGI7XG4gICAgXG4gICAgcmV0dXJuIHsgY2xpZW50LCBkYiB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0IHRvIE1vbmdvREI6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGNvbm5lY3QgdG8gdGhlIGRhdGFiYXNlJyk7XG4gIH1cbn1cblxuLy8gQ3JlYXRlIGEgbW9jayBjb2xsZWN0aW9uIHdpdGggbWV0aG9kIGltcGxlbWVudGF0aW9ucyB0aGF0IGRvIG5vdGhpbmcgb3IgcmV0dXJuIGVtcHR5IHJlc3VsdHNcbmZ1bmN0aW9uIGNyZWF0ZU1vY2tDb2xsZWN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIHtcbiAgICBmaW5kOiAoKSA9PiAoe1xuICAgICAgc29ydDogKCkgPT4gKHtcbiAgICAgICAgdG9BcnJheTogYXN5bmMgKCkgPT4gW10sXG4gICAgICB9KSxcbiAgICB9KSxcbiAgICBmaW5kT25lOiBhc3luYyAoKSA9PiBudWxsLFxuICAgIGluc2VydE9uZTogYXN5bmMgKCkgPT4gKHsgaW5zZXJ0ZWRJZDogYG1vY2tfJHtEYXRlLm5vdygpfWAgfSksXG4gICAgdXBkYXRlT25lOiBhc3luYyAoKSA9PiAoeyBtb2RpZmllZENvdW50OiAxIH0pLFxuICB9O1xufSAiXSwibmFtZXMiOlsiTW9uZ29DbGllbnQiLCJNT05HT0RCX1VSSSIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX0RCIiwiY2FjaGVkQ2xpZW50IiwiY2FjaGVkRGIiLCJjb25uZWN0VG9EYXRhYmFzZSIsImNsaWVudCIsImRiIiwiY29ubmVjdCIsInNlcnZlclNlbGVjdGlvblRpbWVvdXRNUyIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIndhcm4iLCJtZXNzYWdlIiwibW9ja0NvbGxlY3Rpb25zIiwiaW52b2ljZXMiLCJjcmVhdGVNb2NrQ29sbGVjdGlvbiIsInN1YnNjcmlwdGlvbnMiLCJ1c2VycyIsIm1vY2tEYiIsImNvbGxlY3Rpb24iLCJuYW1lIiwiRXJyb3IiLCJmaW5kIiwic29ydCIsInRvQXJyYXkiLCJmaW5kT25lIiwiaW5zZXJ0T25lIiwiaW5zZXJ0ZWRJZCIsIkRhdGUiLCJub3ciLCJ1cGRhdGVPbmUiLCJtb2RpZmllZENvdW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fusers%2Fme%2Froute&page=%2Fapi%2Fusers%2Fme%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fusers%2Fme%2Froute.js&appDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CFullstack-applicationOfficial%5CFullstack-application%206.3%5CAdminDvojkaVit&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();